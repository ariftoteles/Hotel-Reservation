<%- include('partials/header', {title: "Home"});-%>
<%- include('partials/navbar');-%>

<div class="card mb-4">
  <img src="<%= data.image%>" class="card-img-top" alt="#" style="height: 400px;">
  <div class="card-body">
    <h5 class="card-title"><%= data.name%> <span class="card-rating"><%= data.rating%></span> <span
        class="card-rating2 text-muted"> reviewer
        (<%= data.Reviews.length%>)</span></h5>
    <h6 class="card-title text-muted"><%= data.city%></h6>
    <p class="card-text text-muted"><%= data.description%></p>
    <div class="card-footer">
      <%= data.formatRupiah()%>
    </div>
    <div class="card-header">
      <form action="/hotels/<%= data.id%>/reservation" method="POST">
        <div class="form-row">
          <div class="form-group col-md-3">
            <label for="inputState">Check In</label>
            <input class="form-control" name="checkIn" type="date">
          </div>
          <div class="form-group col-md-3">
            <label for="inputState">Check Out</label>
            <input class="form-control" name="checkOut" type="date">
          </div>
          <div class="form-group col-md-3">
            <label for="inputState">Kamar</label>
            <input class="form-control" name="totalRoom" type="number">
          </div>
          <div class="form-group col-md-3 btn-checkin">
            <button type="submit" class="btn btn-primary ">Pesan Kamar</button>
          </div>
      </form>
    </div>
  </div>
</div>
</div>

<div class="card">
  <div class="card-header">
    Tambahkan ulasan
  </div>
  <div class="card-header">
    <form action="/hotels/<%= data.id%>/review" method="POST">
      <div class="form-group row">
        <label for="review" class="col-sm-2 col-form-label">Komentar</label>
        <div class="col-sm-10">
          <textarea class="form-control" id="review" name="comment"></textarea>
        </div>
      </div>
      <div class="form-group row">
        <label for="rating" class="col-sm-2 col-form-label">Rating</label>
        <div class="col-sm-4">
          <input type="number" class="form-control" id="rating" name="rating">
        </div>
        <button type="submit" class="btn btn-primary">Kirim Review</button>
      </div>
    </form>
  </div>
</div>
</div>

<% data.Reviews.forEach( review => { %>
  <div class="card">
    <div class="card card-review" style="max-width: 100%;">
      <div class="row no-gutters">
        <div class="col-md-2 rating">
          <div class="box-rating">
            <h3><%= review.rating%></h3>
          </div>
        </div>
        <div class="col-md-8">
          <div class="card-body">
            <h5 class="card-title"><%= review.username%></h5>
            <p class="card-text"><%= review.comment%></p>
            <hr>
          </div>
        </div>
      </div>
    </div>
<% }) %>


<%- include('partials/footer');-%>